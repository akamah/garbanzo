{"@": "set",
 "object":
  {"@": "get",
   "object":
    {"@": "get",
     "object":
      {"@": "get",
       "object":
        {"@": "get",
         "object":
          {"@": "getenv"
          },
         "key": "/"
        },
       "key": "parser"
      },
     "key": "sentence"
    },
   "key": "children"
  },
 "key": "newline",
 "value":
  {"@": "quote",
   "value":
    {"@": "scope",
     "body":
      {"0":
        {"@": "terminal",
         "string": "\n"
        }
      }
    }
  }
}
{"@": "set",
 "object":
  {"@": "get",
   "object":
    {"@": "get",
     "object":
      {"@": "getenv"
      },
     "key": "/"
    },
   "key": "parser"
  },
 "key": "newline",
 "value":
  {"@": "get",
   "object":
    {"@": "get",
     "object":
      {"@": "get",
       "object":
        {"@": "get",
         "object":
          {"@": "get",
           "object":
            {"@": "getenv"
            },
           "key": "/"
          },
         "key": "parser"
        },
       "key": "sentence"
      },
     "key": "children"
    },
   "key": "newline"
  }
}
{"@": "set",
 "object":
  {"@": "get",
   "object":
    {"@": "getenv"
    },
   "key": "parser"
  },
 "key": "print",
 "value":
  {"@": "quote",
   "value":
    {"@": "scope",
     "body":
      {"0":
        {"@": "terminal",
         "string": "print"
        },
       "1":
        {"@": "eval",
         "env":
          {"@": "getenv"
          },
         "program":
          {"@": "get",
           "object":
            {"@": "get",
             "object":
              {"@": "get",
               "object":
                {"@": "getenv"
                },
               "key": "/"
              },
             "key": "parser"
            },
           "key": "whitespaces"
          }
        },
       "2":
        {"@": "set",
         "object":
          {"@": "getenv"
          },
         "key": "expr",
         "value":
          {"@": "eval",
           "env":
            {"@": "getenv"
            },
           "program":
            {"@": "get",
             "object":
              {"@": "get",
               "object":
                {"@": "get",
                 "object":
                  {"@": "getenv"
                  },
                 "key": "/"
                },
               "key": "parser"
              },
             "key": "expression"
            }
          }
        },
       "3":
        {"@": "set",
         "object":
          {"@": "getenv"
          },
         "key": "val",
         "value":
          {"@": "datastore",
           "object":
            {"@": "print"
            }
          }
        },
       "4":
        {"@": "set",
         "object":
          {"@": "get",
           "object":
            {"@": "getenv"
            },
           "key": "val"
          },
         "key": "value",
         "value":
          {"@": "get",
           "object":
            {"@": "getenv"
            },
           "key": "expr"
          }
        },
       "5":
        {"@": "get",
         "object":
          {"@": "getenv"
          },
         "key": "val"
        }
      }
    }
  }
}
{"@": "insertprev",
 "object":
  {"@": "get",
   "object":
    {"@": "get",
     "object":
      {"@": "get",
       "object":
        {"@": "get",
         "object":
          {"@": "getenv"
          },
         "key": "/"
        },
       "key": "parser"
      },
     "key": "sentence"
    },
   "key": "children"
  },
 "origin":
  {"@": "firstkey",
   "object":
    {"@": "get",
     "object":
      {"@": "get",
       "object":
        {"@": "get",
         "object":
          {"@": "get",
           "object":
            {"@": "getenv"
            },
           "key": "/"
          },
         "key": "parser"
        },
       "key": "sentence"
      },
     "key": "children"
    }
  },
 "key": "print",
 "value":
  {"@": "get",
   "object":
    {"@": "get",
     "object":
      {"@": "get",
       "object":
        {"@": "getenv"
        },
       "key": "/"
      },
     "key": "parser"
    },
   "key": "print"
  }
}
{"@": "set",
 "object":
  {"@": "get",
   "object":
    {"@": "getenv"
    },
   "key": "parser"
  },
 "key": "symbol",
 "value":
  {"@": "quote",
   "value":
    {"@": "scope",
     "body":
      {"0":
        {"@": "set",
         "object":
          {"@": "getenv"
          },
         "key": "oo",
         "value":
          {"@": "quote",
           "value":
            {"@": "oneof",
             "string": "abcdefghijklmnopqrstuvwxyz"
            }
          }
        },
       "1":
        {"@": "eval",
         "env":
          {"@": "getenv"
          },
         "program":
          {"@": "get",
           "object":
            {"@": "get",
             "object":
              {"@": "get",
               "object":
                {"@": "getenv"
                },
               "key": "/"
              },
             "key": "parser"
            },
           "key": "whitespaces"
          }
        },
       "2":
        {"@": "set",
         "object":
          {"@": "getenv"
          },
         "key": "result",
         "value":
          {"@": "eval",
           "env":
            {"@": "getenv"
            },
           "program":
            {"@": "get",
             "object":
              {"@": "getenv"
              },
             "key": "oo"
            }
          }
        },
       "3":
        {"@": "set",
         "object":
          {"@": "getenv"
          },
         "key": "cs",
         "value":
          {"@": "many",
           "parser":
            {"@": "get",
             "object":
              {"@": "getenv"
              },
             "key": "oo"
            }
          }
        },
       "4":
        {"@": "eval",
         "env":
          {"@": "getenv"
          },
         "program":
          {"@": "get",
           "object":
            {"@": "get",
             "object":
              {"@": "get",
               "object":
                {"@": "getenv"
                },
               "key": "/"
              },
             "key": "parser"
            },
           "key": "whitespaces"
          }
        },
       "5":
        {"@": "call",
         "func":
          {"@": "get",
           "object":
            {"@": "get",
             "object":
              {"@": "getenv"
              },
             "key": "/"
            },
           "key": "foreach"
          },
         "args":
          {"store":
            {"@": "get",
             "object":
              {"@": "getenv"
              },
             "key": "cs"
            },
           "func":
            {"@": "lambda",
             "env":
              {"@": "getenv"
              },
             "body":
              {"@": "begin",
               "body":
                {"0":
                  {"@": "set",
                   "object":
                    {"@": "get",
                     "object":
                      {"@": "getenv"
                      },
                     "key": ".."
                    },
                   "key": "result",
                   "value":
                    {"@": "append",
                     "left":
                      {"@": "get",
                       "object":
                        {"@": "get",
                         "object":
                          {"@": "getenv"
                          },
                         "key": ".."
                        },
                       "key": "result"
                      },
                     "right":
                      {"@": "get",
                       "object":
                        {"@": "getenv"
                        },
                       "key": "value"
                      }
                    }
                  }
                }
              }
            }
          }
        },
       "6":
        {"@": "get",
         "object":
          {"@": "getenv"
          },
         "key": "result"
        }
      }
    }
  }
}
{"@": "set",
 "object":
  {"@": "get",
   "object":
    {"@": "getenv"
    },
   "key": "parser"
  },
 "key": "path",
 "value":
  {"@": "quote",
   "value":
    {"@": "scope",
     "body":
      {"0":
        {"@": "set",
         "object":
          {"@": "getenv"
          },
         "key": "p",
         "value":
          {"@": "eval",
           "env":
            {"@": "getenv"
            },
           "program":
            {"@": "get",
             "object":
              {"@": "get",
               "object":
                {"@": "get",
                 "object":
                  {"@": "getenv"
                  },
                 "key": "/"
                },
               "key": "parser"
              },
             "key": "symbol"
            }
          }
        },
       "1":
        {"@": "set",
         "object":
          {"@": "getenv"
          },
         "key": "ps",
         "value":
          {"@": "many",
           "parser":
            {"@": "quote",
             "value":
              {"@": "scope",
               "body":
                {"0":
                  {"@": "terminal",
                   "string": "."
                  },
                 "1":
                  {"@": "eval",
                   "env":
                    {"@": "getenv"
                    },
                   "program":
                    {"@": "get",
                     "object":
                      {"@": "get",
                       "object":
                        {"@": "get",
                         "object":
                          {"@": "getenv"
                          },
                         "key": "/"
                        },
                       "key": "parser"
                      },
                     "key": "symbol"
                    }
                  }
                }
              }
            }
          }
        },
       "2":
        {"@": "set",
         "object":
          {"@": "getenv"
          },
         "key": "result",
         "value":
          {
          }
        },
       "3":
        {"@": "set",
         "object":
          {"@": "get",
           "object":
            {"@": "getenv"
            },
           "key": "result"
          },
         "key": "head",
         "value":
          {"@": "get",
           "object":
            {"@": "getenv"
            },
           "key": "p"
          }
        },
       "4": "hoge",
       "5":
        {"@": "call",
         "func":
          {"@": "get",
           "object":
            {"@": "get",
             "object":
              {"@": "getenv"
              },
             "key": "/"
            },
           "key": "foreach"
          },
         "args":
          {"store":
            {"@": "get",
             "object":
              {"@": "getenv"
              },
             "key": "ps"
            },
           "func":
            {"@": "lambda",
             "env":
              {"@": "getenv"
              },
             "body":
              {"@": "begin",
               "body":
                {"0":
                  {"@": "set",
                   "object":
                    {"@": "get",
                     "object":
                      {"@": "get",
                       "object":
                        {"@": "getenv"
                        },
                       "key": ".."
                      },
                     "key": "result"
                    },
                   "key":
                    {"@": "get",
                     "object":
                      {"@": "getenv"
                      },
                     "key": "key"
                    },
                   "value":
                    {"@": "get",
                     "object":
                      {"@": "getenv"
                      },
                     "key": "value"
                    }
                  }
                }
              }
            }
          }
        },
       "6":
        {"@": "get",
         "object":
          {"@": "getenv"
          },
         "key": "result"
        }
      }
    }
  }
}
{"@": "set",
 "object":
  {"@": "get",
   "object":
    {"@": "getenv"
    },
   "key": "parser"
  },
 "key": "variable",
 "value":
  {"@": "quote",
   "value":
    {"@": "scope",
     "body":
      {"0":
        {"@": "set",
         "object":
          {"@": "getenv"
          },
         "key": "name",
         "value":
          {"@": "eval",
           "env":
            {"@": "getenv"
            },
           "program":
            {"@": "get",
             "object":
              {"@": "get",
               "object":
                {"@": "get",
                 "object":
                  {"@": "getenv"
                  },
                 "key": "/"
                },
               "key": "parser"
              },
             "key": "path"
            }
          }
        },
       "1":
        {"@": "set",
         "object":
          {"@": "getenv"
          },
         "key": "result",
         "value":
          {"@": "datastore",
           "object":
            {"@": "getenv"
            }
          }
        },
       "2": "hoge",
       "3":
        {"@": "call",
         "func":
          {"@": "get",
           "object":
            {"@": "get",
             "object":
              {"@": "getenv"
              },
             "key": "/"
            },
           "key": "foreach"
          },
         "args":
          {"store":
            {"@": "get",
             "object":
              {"@": "getenv"
              },
             "key": "name"
            },
           "func":
            {"@": "lambda",
             "env":
              {"@": "getenv"
              },
             "body":
              {"@": "begin",
               "body":
                {"0": "\n",
                 "1": "\n",
                 "2":
                  {"@": "set",
                   "object":
                    {"@": "get",
                     "object":
                      {"@": "getenv"
                      },
                     "key": ".."
                    },
                   "key": "result",
                   "value":
                    {"@": "datastore",
                     "object":
                      {"@": "get",
                       "object":
                        {"@": "get",
                         "object":
                          {"@": "get",
                           "object":
                            {"@": "getenv"
                            },
                           "key": ".."
                          },
                         "key": "result"
                        },
                       "key":
                        {"@": "get",
                         "object":
                          {"@": "getenv"
                          },
                         "key": "value"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
       "4":
        {"@": "get",
         "object":
          {"@": "getenv"
          },
         "key": "result"
        }
      }
    }
  }
}
{"@": "set",
 "object":
  {"@": "get",
   "object":
    {"@": "get",
     "object":
      {"@": "get",
       "object":
        {"@": "get",
         "object":
          {"@": "getenv"
          },
         "key": "/"
        },
       "key": "parser"
      },
     "key": "expression"
    },
   "key": "children"
  },
 "key": "variable",
 "value":
  {"@": "get",
   "object":
    {"@": "get",
     "object":
      {"@": "get",
       "object":
        {"@": "getenv"
        },
       "key": "/"
      },
     "key": "parser"
    },
   "key": "variable"
  }
}
{"@": "set",
 "object":
  {"@": "get",
   "object":
    {"@": "getenv"
    },
   "key": "parser"
  },
 "key": "rootvar",
 "value":
  {"@": "quote",
   "value":
    {"@": "scope",
     "body":
      {"0":
        {"@": "set",
         "object":
          {"@": "getenv"
          },
         "key": "name",
         "value":
          {"@": "eval",
           "env":
            {"@": "getenv"
            },
           "program":
            {"@": "get",
             "object":
              {"@": "get",
               "object":
                {"@": "get",
                 "object":
                  {"@": "getenv"
                  },
                 "key": "/"
                },
               "key": "parser"
              },
             "key": "path"
            }
          }
        },
       "1":
        {"@": "set",
         "object":
          {"@": "getenv"
          },
         "key": "result",
         "value":
          {"@": "copy",
           "object":
            {"@": "quote",
             "value":
              {"@": "get",
               "object":
                {"@": "getenv"
                },
               "key": "/"
              }
            }
          }
        },
       "2": "hoge",
       "3":
        {"@": "call",
         "func":
          {"@": "get",
           "object":
            {"@": "get",
             "object":
              {"@": "getenv"
              },
             "key": "/"
            },
           "key": "foreach"
          },
         "args":
          {"store":
            {"@": "get",
             "object":
              {"@": "getenv"
              },
             "key": "name"
            },
           "func":
            {"@": "lambda",
             "env":
              {"@": "getenv"
              },
             "body":
              {"@": "begin",
               "body":
                {"0": "\n",
                 "1": "\n",
                 "2":
                  {"@": "set",
                   "object":
                    {"@": "get",
                     "object":
                      {"@": "getenv"
                      },
                     "key": ".."
                    },
                   "key": "result",
                   "value":
                    {"@": "datastore",
                     "object":
                      {"@": "get",
                       "object":
                        {"@": "get",
                         "object":
                          {"@": "get",
                           "object":
                            {"@": "getenv"
                            },
                           "key": ".."
                          },
                         "key": "result"
                        },
                       "key":
                        {"@": "get",
                         "object":
                          {"@": "getenv"
                          },
                         "key": "value"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
       "4":
        {"@": "get",
         "object":
          {"@": "getenv"
          },
         "key": "result"
        }
      }
    }
  }
}
{"@": "set",
 "object":
  {"@": "get",
   "object":
    {"@": "get",
     "object":
      {"@": "getenv"
      },
     "key": "/"
    },
   "key": "parser"
  },
 "key": "assign",
 "value":
  {"@": "quote",
   "value":
    {"@": "scope",
     "body":
      {"0":
        {"@": "set",
         "object":
          {"@": "getenv"
          },
         "key": "ws",
         "value":
          {"@": "get",
           "object":
            {"@": "get",
             "object":
              {"@": "get",
               "object":
                {"@": "getenv"
                },
               "key": "/"
              },
             "key": "parser"
            },
           "key": "whitespaces"
          }
        },
       "1":
        {"@": "set",
         "object":
          {"@": "getenv"
          },
         "key": "path",
         "value":
          {"@": "eval",
           "env":
            {"@": "getenv"
            },
           "program":
            {"@": "get",
             "object":
              {"@": "get",
               "object":
                {"@": "get",
                 "object":
                  {"@": "getenv"
                  },
                 "key": "/"
                },
               "key": "parser"
              },
             "key": "variable"
            }
          }
        },
       "2":
        {"@": "eval",
         "env":
          {"@": "getenv"
          },
         "program":
          {"@": "get",
           "object":
            {"@": "getenv"
            },
           "key": "ws"
          }
        },
       "3":
        {"@": "terminal",
         "string": "="
        },
       "4":
        {"@": "eval",
         "env":
          {"@": "getenv"
          },
         "program":
          {"@": "get",
           "object":
            {"@": "getenv"
            },
           "key": "ws"
          }
        },
       "5":
        {"@": "set",
         "object":
          {"@": "getenv"
          },
         "key": "rhe",
         "value":
          {"@": "eval",
           "env":
            {"@": "getenv"
            },
           "program":
            {"@": "get",
             "object":
              {"@": "get",
               "object":
                {"@": "get",
                 "object":
                  {"@": "getenv"
                  },
                 "key": "/"
                },
               "key": "parser"
              },
             "key": "expression"
            }
          }
        },
       "6":
        {"@": "set",
         "object":
          {"@": "get",
           "object":
            {"@": "getenv"
            },
           "key": "path"
          },
         "key": "@",
         "value": "set"
        },
       "7":
        {"@": "set",
         "object":
          {"@": "get",
           "object":
            {"@": "getenv"
            },
           "key": "path"
          },
         "key": "value",
         "value":
          {"@": "get",
           "object":
            {"@": "getenv"
            },
           "key": "rhe"
          }
        },
       "8":
        {"@": "get",
         "object":
          {"@": "getenv"
          },
         "key": "path"
        }
      }
    }
  }
}
{"@": "set",
 "object":
  {"@": "get",
   "object":
    {"@": "get",
     "object":
      {"@": "get",
       "object":
        {"@": "get",
         "object":
          {"@": "getenv"
          },
         "key": "/"
        },
       "key": "parser"
      },
     "key": "sentence"
    },
   "key": "children"
  },
 "key": "assign",
 "value":
  {"@": "get",
   "object":
    {"@": "get",
     "object":
      {"@": "get",
       "object":
        {"@": "getenv"
        },
       "key": "/"
      },
     "key": "parser"
    },
   "key": "assign"
  }
}
{"@": "set",
 "object":
  {"@": "get",
   "object":
    {"@": "get",
     "object":
      {"@": "getenv"
      },
     "key": "/"
    },
   "key": "parser"
  },
 "key": "do",
 "value":
  {"@": "quote",
   "value":
    {"@": "scope",
     "body":
      {"0":
        {"@": "terminal",
         "string": "do"
        },
       "1":
        {"@": "set",
         "object":
          {"@": "getenv"
          },
         "key": "quoted",
         "value":
          {"@": "many",
           "parser":
            {"@": "quote",
             "value":
              {"@": "scope",
               "body":
                {"0":
                  {"@": "eval",
                   "env":
                    {"@": "getenv"
                    },
                   "program":
                    {"@": "get",
                     "object":
                      {"@": "get",
                       "object":
                        {"@": "get",
                         "object":
                          {"@": "getenv"
                          },
                         "key": "/"
                        },
                       "key": "parser"
                      },
                     "key": "whitespaces"
                    }
                  },
                 "1":
                  {"@": "eval",
                   "env":
                    {"@": "getenv"
                    },
                   "program":
                    {"@": "get",
                     "object":
                      {"@": "get",
                       "object":
                        {"@": "get",
                         "object":
                          {"@": "getenv"
                          },
                         "key": "/"
                        },
                       "key": "parser"
                      },
                     "key": "sentence"
                    }
                  }
                }
              }
            }
          }
        },
       "2":
        {"@": "eval",
         "env":
          {"@": "getenv"
          },
         "program":
          {"@": "get",
           "object":
            {"@": "get",
             "object":
              {"@": "get",
               "object":
                {"@": "getenv"
                },
               "key": "/"
              },
             "key": "parser"
            },
           "key": "whitespaces"
          }
        },
       "3":
        {"@": "terminal",
         "string": "end"
        },
       "4":
        {"@": "set",
         "object":
          {"@": "getenv"
          },
         "key": "result",
         "value":
          {"@": "datastore",
           "object":
            {"@": "quote"
            }
          }
        },
       "5":
        {"@": "set",
         "object":
          {"@": "get",
           "object":
            {"@": "getenv"
            },
           "key": "result"
          },
         "key": "value",
         "value":
          {"@": "datastore",
           "object":
            {"@": "scope",
             "body":
              {"@": "get",
               "object":
                {"@": "getenv"
                },
               "key": "quoted"
              }
            }
          }
        },
       "6":
        {"@": "get",
         "object":
          {"@": "getenv"
          },
         "key": "result"
        }
      }
    }
  }
}
{"@": "insertprev",
 "object":
  {"@": "get",
   "object":
    {"@": "get",
     "object":
      {"@": "get",
       "object":
        {"@": "get",
         "object":
          {"@": "getenv"
          },
         "key": "/"
        },
       "key": "parser"
      },
     "key": "expression"
    },
   "key": "children"
  },
 "origin":
  {"@": "firstkey",
   "object":
    {"@": "get",
     "object":
      {"@": "get",
       "object":
        {"@": "get",
         "object":
          {"@": "get",
           "object":
            {"@": "getenv"
            },
           "key": "/"
          },
         "key": "parser"
        },
       "key": "expression"
      },
     "key": "children"
    }
  },
 "key": "do",
 "value":
  {"@": "get",
   "object":
    {"@": "get",
     "object":
      {"@": "get",
       "object":
        {"@": "getenv"
        },
       "key": "/"
      },
     "key": "parser"
    },
   "key": "do"
  }
}
{"@": "set",
 "object":
  {"@": "get",
   "object":
    {"@": "get",
     "object":
      {"@": "getenv"
      },
     "key": "/"
    },
   "key": "parser"
  },
 "key": "while",
 "value":
  {"@": "quote",
   "value":
    {"@": "scope",
     "body":
      {"0":
        {"@": "terminal",
         "string": "while"
        },
       "1":
        {"@": "eval",
         "env":
          {"@": "getenv"
          },
         "program":
          {"@": "get",
           "object":
            {"@": "get",
             "object":
              {"@": "get",
               "object":
                {"@": "getenv"
                },
               "key": "/"
              },
             "key": "parser"
            },
           "key": "whitespaces"
          }
        },
       "2":
        {"@": "set",
         "object":
          {"@": "getenv"
          },
         "key": "cond",
         "value":
          {"@": "eval",
           "env":
            {"@": "getenv"
            },
           "program":
            {"@": "get",
             "object":
              {"@": "get",
               "object":
                {"@": "get",
                 "object":
                  {"@": "getenv"
                  },
                 "key": "/"
                },
               "key": "parser"
              },
             "key": "expression"
            }
          }
        },
       "3":
        {"@": "set",
         "object":
          {"@": "getenv"
          },
         "key": "sts",
         "value":
          {"@": "many",
           "parser":
            {"@": "quote",
             "value":
              {"@": "scope",
               "body":
                {"0":
                  {"@": "eval",
                   "env":
                    {"@": "getenv"
                    },
                   "program":
                    {"@": "get",
                     "object":
                      {"@": "get",
                       "object":
                        {"@": "get",
                         "object":
                          {"@": "getenv"
                          },
                         "key": "/"
                        },
                       "key": "parser"
                      },
                     "key": "whitespaces"
                    }
                  },
                 "1":
                  {"@": "eval",
                   "env":
                    {"@": "getenv"
                    },
                   "program":
                    {"@": "get",
                     "object":
                      {"@": "get",
                       "object":
                        {"@": "get",
                         "object":
                          {"@": "getenv"
                          },
                         "key": "/"
                        },
                       "key": "parser"
                      },
                     "key": "sentence"
                    }
                  }
                }
              }
            }
          }
        },
       "4":
        {"@": "eval",
         "env":
          {"@": "getenv"
          },
         "program":
          {"@": "get",
           "object":
            {"@": "get",
             "object":
              {"@": "get",
               "object":
                {"@": "getenv"
                },
               "key": "/"
              },
             "key": "parser"
            },
           "key": "whitespaces"
          }
        },
       "5":
        {"@": "terminal",
         "string": "end"
        },
       "6":
        {"@": "set",
         "object":
          {"@": "getenv"
          },
         "key": "result",
         "value":
          {"@": "datastore",
           "object":
            {"@": "while",
             "condition":
              {"@": "get",
               "object":
                {"@": "getenv"
                },
               "key": "cond"
              },
             "body":
              {"@": "get",
               "object":
                {"@": "getenv"
                },
               "key": "sts"
              }
            }
          }
        },
       "7":
        {"@": "get",
         "object":
          {"@": "getenv"
          },
         "key": "result"
        }
      }
    }
  }
}
{"@": "insertprev",
 "object":
  {"@": "get",
   "object":
    {"@": "get",
     "object":
      {"@": "get",
       "object":
        {"@": "get",
         "object":
          {"@": "getenv"
          },
         "key": "/"
        },
       "key": "parser"
      },
     "key": "sentence"
    },
   "key": "children"
  },
 "origin":
  {"@": "firstkey",
   "object":
    {"@": "get",
     "object":
      {"@": "get",
       "object":
        {"@": "get",
         "object":
          {"@": "get",
           "object":
            {"@": "getenv"
            },
           "key": "/"
          },
         "key": "parser"
        },
       "key": "sentence"
      },
     "key": "children"
    }
  },
 "key": "do",
 "value":
  {"@": "get",
   "object":
    {"@": "get",
     "object":
      {"@": "get",
       "object":
        {"@": "getenv"
        },
       "key": "/"
      },
     "key": "parser"
    },
   "key": "while"
  }
}
{"@": "set",
 "object":
  {"@": "get",
   "object":
    {"@": "get",
     "object":
      {"@": "getenv"
      },
     "key": "/"
    },
   "key": "parser"
  },
 "key": "eval",
 "value":
  {"@": "quote",
   "value":
    {"@": "scope",
     "body":
      {"0":
        {"@": "terminal",
         "string": "$"
        },
       "1":
        {"@": "set",
         "object":
          {"@": "getenv"
          },
         "key": "result",
         "value":
          {"@": "copy",
           "object":
            {"@": "quote",
             "value":
              {"@": "eval",
               "env":
                {"@": "get",
                 "object":
                  {"@": "getenv"
                  },
                 "key": "/"
                }
              }
            }
          }
        },
       "2":
        {"@": "set",
         "object":
          {"@": "get",
           "object":
            {"@": "getenv"
            },
           "key": "result"
          },
         "key": "program",
         "value":
          {"@": "eval",
           "env":
            {"@": "getenv"
            },
           "program":
            {"@": "get",
             "object":
              {"@": "get",
               "object":
                {"@": "get",
                 "object":
                  {"@": "getenv"
                  },
                 "key": "/"
                },
               "key": "parser"
              },
             "key": "rootvar"
            }
          }
        },
       "3":
        {"@": "get",
         "object":
          {"@": "getenv"
          },
         "key": "result"
        }
      }
    }
  }
}
{"@": "set",
 "object":
  {"@": "get",
   "object":
    {"@": "get",
     "object":
      {"@": "get",
       "object":
        {"@": "get",
         "object":
          {"@": "getenv"
          },
         "key": "/"
        },
       "key": "parser"
      },
     "key": "expression"
    },
   "key": "children"
  },
 "key": "eval",
 "value":
  {"@": "get",
   "object":
    {"@": "get",
     "object":
      {"@": "get",
       "object":
        {"@": "getenv"
        },
       "key": "/"
      },
     "key": "parser"
    },
   "key": "eval"
  }
}
{"@": "set",
 "object":
  {"@": "get",
   "object":
    {"@": "getenv"
    },
   "key": "parser"
  },
 "key": "command",
 "value":
  {"@": "quote",
   "value":
    {"@": "scope",
     "body":
      {"0":
        {"@": "set",
         "object":
          {"@": "getenv"
          },
         "key": "comname",
         "value":
          {"@": "eval",
           "env":
            {"@": "getenv"
            },
           "program":
            {"@": "get",
             "object":
              {"@": "get",
               "object":
                {"@": "get",
                 "object":
                  {"@": "getenv"
                  },
                 "key": "/"
                },
               "key": "parser"
              },
             "key": "symbol"
            }
          }
        },
       "1":
        {"@": "set",
         "object":
          {"@": "getenv"
          },
         "key": "args",
         "value":
          {"@": "eval",
           "env":
            {"@": "getenv"
            },
           "program":
            {"@": "get",
             "object":
              {"@": "get",
               "object":
                {"@": "get",
                 "object":
                  {"@": "getenv"
                  },
                 "key": "/"
                },
               "key": "parser"
              },
             "key": "datastore"
            }
          }
        },
       "2":
        {"@": "set",
         "object":
          {"@": "get",
           "object":
            {"@": "getenv"
            },
           "key": "args"
          },
         "key": "@",
         "value":
          {"@": "get",
           "object":
            {"@": "getenv"
            },
           "key": "comname"
          }
        },
       "3":
        {"@": "get",
         "object":
          {"@": "getenv"
          },
         "key": "args"
        }
      }
    }
  }
}
{"@": "set",
 "object":
  {"@": "get",
   "object":
    {"@": "get",
     "object":
      {"@": "get",
       "object":
        {"@": "get",
         "object":
          {"@": "getenv"
          },
         "key": "/"
        },
       "key": "parser"
      },
     "key": "sentence"
    },
   "key": "children"
  },
 "key": "command",
 "value":
  {"@": "get",
   "object":
    {"@": "get",
     "object":
      {"@": "get",
       "object":
        {"@": "getenv"
        },
       "key": "/"
      },
     "key": "parser"
    },
   "key": "command"
  }
}
{"@": "set",
 "object":
  {"@": "get",
   "object":
    {"@": "getenv"
    },
   "key": "/"
  },
 "key": "quasiquote",
 "value":
  {"@": "lambda",
   "env":
    {"@": "getenv"
    },
   "body":
    {"@": "begin",
     "body":
      {"0":
        {"@": "if",
         "condition":
          {"@": "isdatastore",
           "value":
            {"@": "get",
             "object":
              {"@": "getenv"
              },
             "key": "object"
            }
          },
         "consequence":
          {"@": "scope",
           "body":
            {"0":
              {"@": "set",
               "object":
                {"@": "getenv"
                },
               "key": "object",
               "value":
                {"@": "get",
                 "object":
                  {"@": "get",
                   "object":
                    {"@": "getenv"
                    },
                   "key": ".."
                  },
                 "key": "object"
                }
              },
             "1":
              {"@": "if",
               "condition":
                {"@": "and",
                 "left":
                  {"@": "exist",
                   "object":
                    {"@": "get",
                     "object":
                      {"@": "getenv"
                      },
                     "key": "object"
                    },
                   "key": "@"
                  },
                 "right":
                  {"@": "equal",
                   "left":
                    {"@": "get",
                     "object":
                      {"@": "get",
                       "object":
                        {"@": "getenv"
                        },
                       "key": "object"
                      },
                     "key": "@"
                    },
                   "right": "unquote"
                  }
                },
               "consequence":
                {"@": "scope",
                 "body":
                  {"0":
                    {"@": "get",
                     "object":
                      {"@": "get",
                       "object":
                        {"@": "get",
                         "object":
                          {"@": "getenv"
                          },
                         "key": ".."
                        },
                       "key": "object"
                      },
                     "key": "value"
                    }
                  }
                },
               "alternative":
                {"@": "scope",
                 "body":
                  {"0":
                    {"@": "set",
                     "object":
                      {"@": "getenv"
                      },
                     "key": "result",
                     "value":
                      {"@": "datastore",
                       "object":
                        {
                        }
                      }
                    },
                   "1": "hoge",
                   "2":
                    {"@": "call",
                     "func":
                      {"@": "get",
                       "object":
                        {"@": "get",
                         "object":
                          {"@": "getenv"
                          },
                         "key": "/"
                        },
                       "key": "foreach"
                      },
                     "args":
                      {"store":
                        {"@": "get",
                         "object":
                          {"@": "get",
                           "object":
                            {"@": "getenv"
                            },
                           "key": ".."
                          },
                         "key": "object"
                        },
                       "func":
                        {"@": "lambda",
                         "env":
                          {"@": "getenv"
                          },
                         "body":
                          {"@": "begin",
                           "body":
                            {"0":
                              {"@": "set",
                               "object":
                                {"@": "get",
                                 "object":
                                  {"@": "get",
                                   "object":
                                    {"@": "getenv"
                                    },
                                   "key": ".."
                                  },
                                 "key": "result"
                                },
                               "key":
                                {"@": "get",
                                 "object":
                                  {"@": "getenv"
                                  },
                                 "key": "key"
                                },
                               "value":
                                {"@": "call",
                                 "func":
                                  {"@": "get",
                                   "object":
                                    {"@": "get",
                                     "object":
                                      {"@": "getenv"
                                      },
                                     "key": "/"
                                    },
                                   "key": "quasiquote"
                                  },
                                 "args":
                                  {"@": "datastore",
                                   "object":
                                    {"object":
                                      {"@": "get",
                                       "object":
                                        {"@": "getenv"
                                        },
                                       "key": "value"
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                   "3":
                    {"@": "datastore",
                     "object":
                      {"@": "datastore",
                       "object":
                        {"@": "get",
                         "object":
                          {"@": "getenv"
                          },
                         "key": "result"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
         "alternative":
          {"@": "scope",
           "body":
            {"0":
              {"@": "datastore",
               "object":
                {"@": "quote",
                 "value":
                  {"@": "get",
                   "object":
                    {"@": "get",
                     "object":
                      {"@": "getenv"
                      },
                     "key": ".."
                    },
                   "key": "object"
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
{"@": "set",
 "object":
  {"@": "get",
   "object":
    {"@": "get",
     "object":
      {"@": "getenv"
      },
     "key": "/"
    },
   "key": "parser"
  },
 "key": "quasiquote",
 "value":
  {"@": "quote",
   "value":
    {"@": "scope",
     "body":
      {"0":
        {"@": "terminal",
         "string": "`"
        },
       "1":
        {"@": "set",
         "object":
          {"@": "getenv"
          },
         "key": "st",
         "value":
          {"@": "eval",
           "env":
            {"@": "getenv"
            },
           "program":
            {"@": "get",
             "object":
              {"@": "get",
               "object":
                {"@": "get",
                 "object":
                  {"@": "getenv"
                  },
                 "key": "/"
                },
               "key": "parser"
              },
             "key": "sentence"
            }
          }
        },
       "2":
        {"@": "terminal",
         "string": "`"
        },
       "3":
        {"@": "eval",
         "env":
          {"@": "getenv"
          },
         "program":
          {"@": "get",
           "object":
            {"@": "get",
             "object":
              {"@": "get",
               "object":
                {"@": "getenv"
                },
               "key": "/"
              },
             "key": "parser"
            },
           "key": "whitespaces"
          }
        },
       "4":
        {"@": "call",
         "func":
          {"@": "get",
           "object":
            {"@": "get",
             "object":
              {"@": "getenv"
              },
             "key": "/"
            },
           "key": "quasiquote"
          },
         "args":
          {"object":
            {"@": "get",
             "object":
              {"@": "getenv"
              },
             "key": "st"
            }
          }
        }
      }
    }
  }
}
{"@": "set",
 "object":
  {"@": "get",
   "object":
    {"@": "get",
     "object":
      {"@": "get",
       "object":
        {"@": "get",
         "object":
          {"@": "getenv"
          },
         "key": "/"
        },
       "key": "parser"
      },
     "key": "sentence"
    },
   "key": "children"
  },
 "key": "quasiquote",
 "value":
  {"@": "get",
   "object":
    {"@": "get",
     "object":
      {"@": "get",
       "object":
        {"@": "getenv"
        },
       "key": "/"
      },
     "key": "parser"
    },
   "key": "quasiquote"
  }
}
parser.digit = do
  terminal { "string": "1" }
  w = $parser.whitespaces
  sub { "left":  {"@": "tocode", "string": "1" },
        "right": {"@": "tocode", "string": "0" } }
end

parser.expression.children.digit = parser.digit

parser.unquote = do
  terminal { "string": "%(" }
  expr = $parser.expression
  terminal { "string": ")"  }

  datastore {"object": {"@": "unquote", "value": expr }}
end

tmp = {"@": "datastore", "object": {"@": "choice", "children": {}}}
tmp.children.symbol = parser.symbol
parser.symbol = tmp
parser.symbol.children.unquote = parser.unquote



tmp = {"@": "datastore", "object": {"@": "choice", "children": {}}}
tmp.children.string = parser.string
tmp.children.symbol = parser.symbol

parser.key = tmp

print {hoge: "string"}


print parser.key

parser.addition = do
  x = $parser.digit
  terminal { "string": "+" }
  w = $parser.whitespaces
  e = $parser.expression
  result = {"@": "datastore", "object": {"@": "add"}}
  result.left = x
  result.right = e
  print result
end

insertprev { "object": parser.expression.children,
             "origin": {"@":"firstkey", "object": parser.expression.children},
	     "key":    "addition",
	     "value":  parser.addition }


homuhomu = "homu"
bouzu = {"man": "bouzuman"}
a = {"b": {"c": "abcdefg" } }

print homuhomu
print bouzu.man
print a.b.c

hogepoyo = do
  fst = "hoge"
  snd = "hige"
  print fst
  print snd
end

insertprev { "object": a, "origin": "b", "key": "g", "value": "hoge" }

print a


print hogepoyo
print $hogepoyo

print 1

print parser.addition

print 1+1+1
print {"@": "quote", "value": %(a).%(b).%(c)}

name = "poyoshi"
`%(name) = 1 + %(name)`

parser.increment = do
  name = $parser.symbol
  terminal { string: "++" }
  `%(name) = 1 + %(name)`
end

parser.donothing = do
  name = $parser.symbol
  terminal { string: "++" }
  `%(name) = %(name)`
end


parser.addrule = do
  target = $parser.path
  terminal { string: "|=" }
  name = $parser.symbol
  `%(target).children.%(name) = parser.%(name)`
end

parser.sentence.children.addrule = parser.addrule

parser.sentence.children.increment = parser.increment
parser.sentence |= increment




a = 1
a++
a++

print a

parser.notone = do
  terminal { string: "!=1" }
  print "notone"
  w = $parser.whitespaces
  e = $parser.expression
  datastore { object: {"@": "notequal", left: 1, right: e } }
end

parser.expression |= notone

print parser.notone
print parser.expression

print !=1 1
print !=1 a


i = 1+1+1+1+1
x = 1

while !=1 i
  print x
  x++
  i = {"@": "sub", "left": i, "right": 1 }
  parser.sentence.children.increment = parser.donothing
end

print "endloop"

print x
x++
print x
x++
print x